// @generated by protoc-gen-es v2.10.2 with parameter "target=ts,import_extension=ts"
// @generated from file service/v1/server.proto (package service.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv2";
import { file_buf_validate_validate } from "../../buf/validate/validate_pb.ts";
import type { Timestamp } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_timestamp } from "@bufbuild/protobuf/wkt";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file service/v1/server.proto.
 */
export const file_service_v1_server: GenFile = /*@__PURE__*/
  fileDesc("ChdzZXJ2aWNlL3YxL3NlcnZlci5wcm90bxIKc2VydmljZS52MSK3AQoKU2VydmVySW5mbxIXCgdzZXJ2aWNlGAEgASgJQga6SAPIAQESHQoLaW5zdGFuY2VfaWQYAiABKAlCCLpIBXIDsAEBEg0KBWVwb2NoGAMgASgEEjgKCnN0YXJ0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wQgi6SAWyAQI4ARIUCgxyZXNldF9yZWFzb24YBSABKAkSEgoKZGF0YV93aXBlZBgGIAEoCCJxCg9TZXJ2ZXJIZWFydGJlYXQSFwoHc2VydmljZRgBIAEoCUIGukgDyAEBEhkKCXNlcnZlcl9pZBgCIAEoCUIGukgDyAEBEg0KBWVwb2NoGAMgASgEEg8KB3VuaXhfbXMYBCABKAMSCgoCaXAYBSABKAlCqgEKDmNvbS5zZXJ2aWNlLnYxQgtTZXJ2ZXJQcm90b1ABWjlnaXRodWIuY29tL2NvYm90YXIvcHJvdG9jb2wvbWVzc2FnZXMvc2VydmljZS92MTtzZXJ2aWNldjGiAgNTWFiqAhNNZXNzYWdlcy5TZXJ2aWNlLlYxygIKU2VydmljZVxWMeICFlNlcnZpY2VcVjFcR1BCTWV0YWRhdGHqAgtTZXJ2aWNlOjpWMWIGcHJvdG8z", [file_buf_validate_validate, file_google_protobuf_timestamp]);

/**
 * @generated from message service.v1.ServerInfo
 */
export type ServerInfo = Message<"service.v1.ServerInfo"> & {
  /**
   * E.g. "backend"
   *
   * @generated from field: string service = 1;
   */
  service: string;

  /**
   * random UUID per process start
   *
   * @generated from field: string instance_id = 2;
   */
  instanceId: string;

  /**
   * Increments each restart (or derived)
   *
   * @generated from field: uint64 epoch = 3;
   */
  epoch: bigint;

  /**
   * @generated from field: google.protobuf.Timestamp started_at = 4;
   */
  startedAt?: Timestamp;

  /**
   * e.g. "process_restart", "db_wiped"
   *
   * @generated from field: string reset_reason = 5;
   */
  resetReason: string;

  /**
   * If true clients should strongly consider refetching data
   *
   * @generated from field: bool data_wiped = 6;
   */
  dataWiped: boolean;
};

/**
 * Describes the message service.v1.ServerInfo.
 * Use `create(ServerInfoSchema)` to create a new message.
 */
export const ServerInfoSchema: GenMessage<ServerInfo> = /*@__PURE__*/
  messageDesc(file_service_v1_server, 0);

/**
 * @generated from message service.v1.ServerHeartbeat
 */
export type ServerHeartbeat = Message<"service.v1.ServerHeartbeat"> & {
  /**
   * e.g. "backend"
   *
   * @generated from field: string service = 1;
   */
  service: string;

  /**
   * stable id (hostname/uuid)
   *
   * @generated from field: string server_id = 2;
   */
  serverId: string;

  /**
   * increments on restart (same concept as your restart storm protection)
   *
   * @generated from field: uint64 epoch = 3;
   */
  epoch: bigint;

  /**
   * server time
   *
   * @generated from field: int64 unix_ms = 4;
   */
  unixMs: bigint;

  /**
   * ip of server
   *
   * @generated from field: string ip = 5;
   */
  ip: string;
};

/**
 * Describes the message service.v1.ServerHeartbeat.
 * Use `create(ServerHeartbeatSchema)` to create a new message.
 */
export const ServerHeartbeatSchema: GenMessage<ServerHeartbeat> = /*@__PURE__*/
  messageDesc(file_service_v1_server, 1);

